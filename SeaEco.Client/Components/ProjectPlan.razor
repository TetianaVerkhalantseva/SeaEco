@using SeaEco.Client.Resources
@using SeaEco.Abstractions.Models.Project


    @for (int station = 1; station <= Project.Antallstasjoner + _addedStations; station++)
    {
        <div class="d-flex flex-column gap-3 mt-3">
            <span>Stasjon @station</span>
            <div class="d-flex flex-row gap-3">

                <div class="d-flex form-floating">
                    <input type="text" class="form-control" id="positionN_@station" placeholder="Kordinater Nord" disabled="@(!_editProjectPlan)">
                    <label for="positionN_@station" style="color:#808080;">Kordinater Nord</label>
                </div>
                <div class="d-flex form-floating">
                    <input type="text" class="form-control" id="positionS_@station" placeholder="Kordinater Sør" disabled="@(!_editProjectPlan)">
                    <label for="positionS_@station" style="color:#808080;">Kordinater Sør</label>
                </div>
            </div>
            <div class="d-flex form-floating">
                <input type="text" class="form-control" id="depth_@station" placeholder="Dybde" disabled="@(!_editProjectPlan)">
                <label for="depth_@station" style="color:#808080;">Dybde</label>
            </div>
            <div class="d-flex form-floating">
                <input type="text" class="form-control" id="method_@station" placeholder="Analyse" disabled="@(!_editProjectPlan)">
                <label for="method_@station" style="color:#808080;">Analyse</label>
            </div>
        </div>
    }
    <div class="d-flex flex-row align-self-end justify-content-end w-100 mb-3">

        @if(!_editProjectPlan)
        {
            <button class="btn btn-outline-secondary filter-button" type="button" @onclick="OnCklickProjectPlan">
                Rediger
            </button>
        }
        else
        {
            <div class="d-flex gap-2 flex-column flex-xxl-row w-100">
                <button class="btn btn-outline-secondary filter-button" type="button" @onclick="AddStation">
                    + Legg til en stasjon
                </button>
                <div class="d-flex flex-grow-1"></div>
                <div class="d-flex gap-2 justify-content-center">
                    <button class="btn btn-outline-secondary filter-button" type="button" @onclick="CancleEditProjectPlan">
                        @Resources.ButtonCancel
                    </button>
                    <button class="btn btn-outline-secondary filter-button" type="button" @onclick="EditProjectPlan">
                        @Resources.ButtonSave
                    </button>
                </div>
            </div>
        }

    </div>


@code {
    [Parameter] public ProjectDto Project { get; set; }

    private bool _editProjectPlan;
    private int _addedStations = 0;

    private void OnCklickProjectPlan()
    {
        _editProjectPlan = true;
    }

    private void EditProjectPlan()
    {
        _editProjectPlan = false;
    }

    private void CancleEditProjectPlan()
    {
        _editProjectPlan = false;
    }

    private async Task AddStation()
    {
        _addedStations = 1 + _addedStations;
    }

    private async Task RemoveStation()
    {
        _addedStations = -1 + _addedStations;
    }
    
}